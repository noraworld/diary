# GitHub Pages で将来的に公開したいリポジトリをまとめてみた
今のところ以下の 4 つ。

* `diary`
* `private-diary`
* `blog`
* `devlog`

このうち、`diary` は今はインターネット上に公開したくないけど、将来的にはしたいと考えている。`private-diary` はその目的から自明だが今後永久的に非公開である。

`blog` と `devlog` に関しては非公開にする必要性が特にないので今すぐにでも GitHub Pages に公開しても良い。ただし `blog` は最近全然更新していないし、`devlog` に関しては Qiita や Zenn で公開しているから、どちらも今すぐに GitHub Pages を公開するモチベーションはあまりない。まあそれでも将来的には GitHub Pages を立てて積極的に更新していきたいとは思っているけど。

というわけで、なんでこのように GitHub Pages で公開したいリポジトリをまとめたかというと、現在 Raspberry Pi で一時的に内部的にサーバを立てたいのはどれかを整理しておきたかったからだ。今のところ `diary` と `private-diary` の 2 つかな。そして `private-diary` に関しては今後も非公開のままだから、GitHub Pages に認証機能がつかない限りは Raspberry Pi で運用し続けるのも良いかもしれない。

会社の日報とかメモとかはもちろん今後も非公開のままだから GitHub Pages で公開することはないかな。まあ GitHub Pages に認証機能がついて自分だけが見られるプライベート GitHub Pages が作れるようになったら GitHub Pages を立てるのも良いけど。

ポートフォリオ (ランディングページ) 的なのはブログや日記と違って日々更新するものではないし、むしろ公開しなければ全く意味がないものなので、Raspberry Pi での運用を考慮する必要性はないかな。



# 自動 `git pull` のシステムが完成
日記の自動 `git pull` システムがついに完成した。仕組みは事前に調べたとおり lua-nginx-module を使って、リクエストが来るたびに任意のスクリプトを実行する方法なのだが、これは技術記事として有用になりそうなので、詳細は技術記事として書くことにする。



# 明日やること
* Raspberry Pi 上の `/etc/hosts` を GitHub で管理する
* OpenResty の技術記事を書く



# Sarah さんのスケジュールを開いてもらった
これは 14 日の話だが、Cambly で Sarah さんのスケジュールを開いてもらった。Sarah さんは結構丁寧にこちらの間違いを指摘してくれるし、イディオムとか便利フレーズを教えてくれるのでまたレッスンしたいと思っていたのだが、スケジュールを閉じてしまっていたので予約ができなかった。

「レッスンの予約をしたいんだけどスケジュールが閉じているので予約できません。最近忙しいのですか？」とメッセージを送ったところ、なんと自分用にスケジュールを開いてくれた。どうやら講師側は生徒ごとにスケジュールを公開したり非公開にしたりできるらしい。どうなるかわからなくても言ってみるもんだなあと思った。



# 記録を残す媒体
最近また日記をちゃんと書き始めたので、日々の記録を残す媒体について考えてみた。

* テキスト
    * メリット
        * 振り返る際に検索しやすい
        * やり直しや修正がしやすい
        * Git などで差分を残せる
        * 容量を食わない
    * デメリット
        * 音声よりも入力に時間がかかる
            * でもディクテーション機能を使えば音声を文章化できるのでテキストで記録を残すことそのもののデメリットではないかもしれない
* 音声
    * メリット
        * キーボードよりも入力が早い
    * デメリット
        * 振り返る際に検索しづらい
            * AI が今後発展していって音声から文字を検索できるようになったらデメリットではなくなるのかもしれない
            * でもそれだったら最初からテキストで記録しておけば良いんじゃないのとは思う
        * データ容量が大きいのでデータを残すサービスが限定される
            * Apple のボイスメモなどで残すことができるが容量が増えるにつれて課金する額も増える
* 動画
    * メリット
        * 音声を含むのでキーボードよりも入力が早い
        * 文字や音声では伝わらない映像で記録を残すことができる
        * 瞬間瞬間の映像に対してリアルタイムで感想などを残すことができる
    * デメリット
        * 振り返る際に検索しづらい
            * 補足は音声と同じ
        * データ容量がデカすぎるのでデータを残すサービスが限定される
            * 今のところ YouTube か Google Drive くらいしかないんじゃないかな

ゲームとかは録画データを残しておくとプレイ後にわざわざ文字ベースでめんどくささが減るしそのときそのときに思ったことをしゃべればかなり正確な記録が残せるが、日常生活のことなどをデータとして残しておく分には結局テキストが良いんじゃないかなと思う。



# オートミールは箸？
使い捨てスプーンがなくなってしまったことに気づかずにオートミールご飯を作ってしまったが、案外、箸でも食べられるなということに気づいた。

スプーンはプロテインのときにも使うし消費が激しいからオートミールは箸でも良いかもなと思った。



# cron でも自動 `git pull` することにした
lua-nginx-module を使ってリクエストがあるたびに `git pull` するようにしたんだけど、cron でも 10 分置きに `git pull` することにした。

日記を Raspberry Pi 上で見るために、日記を更新したあとにとりあえず内部ウェブページにアクセスして `git pull` させて、そのあと 30 秒ほどビルドを待つという流れになるが、`git pull` をさせるためにまずはいったんアクセスしなければならないので、これは自動とは言えない気がしてきたのだ。更新後、まず一度アクセスすることが `git pull` のトリガーになっているので。

まあ cron だとそこまで頻繁にやるわけにはいかないので更新後にすぐに確認したい場合はとりあえず日記にアクセスしに行けばそれで `git pull` されるからこれはこれで便利ではあるんだけど、更新後に毎回すぐに見に行くわけでもないだから、そのあとしばらくしてアクセスしたときにはもうすでに最新のものになっていてほしいなあという理由で cron でも `git pull` しておくことにした。

19 日の日記で

>ビルド中は Jekyll サーバの CPU 使用率が Raspberry Pi 上で 100% に張り付くので cron とかで定期実行するのはあまり得策ではなさそうだ

と言ったが、何も更新がないときには CPU 使用率が 100% に張り付いたりしない (`git pull` で更新があったときだけ CPU 使用率が跳ね上がる) ので、そこまで問題にはならないかなと思った。



# 日記のデザインを少し改良
最終的には旧日記サイトのようなデザインを Jekyll のテーマとして実装しようと思っているのだが、とりあえずは借り物のデザインを使っている。ただ、借り物そのままだとちょっと使いづらい部分があるなあと感じたので、ちょっとだけ改良した。

* ページネーションを導入
    * 全日記がトップページに表示されてしまい少し重かったので
    * 最終的には旧日記デザインにしたいので、とりあえず月の数とほぼ同じ 30 件ずつの表示にした
* `/timeline` や `/about` などの固定ページへのリンクを追加
    * 本当はヘッダ部分に入れたかったのだが現在使っているテーマでどのようにやれば良いのかわからなかったのでとりあえずトップページのボディの上らへんに配置
* 個々の日記にタイトルが含まれていなくてもその日の日付をタイトルのように表示するように変更

これである程度環境が整った気がする。
