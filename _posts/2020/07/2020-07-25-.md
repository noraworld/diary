# YouTube 使用率低減計画 その 2
[22 日](/2020/07/22#youtube-使用率低減計画) に引き続き少し iPhone の設定を見直したので記録を残しておく。

昨日、iPhone の検索（ホーム画面で画面中央を下にスワイプ）で "YouTube" と検索して Web 検索や App 検索をしてしまうと簡単に YouTube アプリが開けてしまうことを発見してしまった。

手順としては、

1. ホーム画面で下にスワイプして検索画面を開く
2. 検索バーに "YouTube" と入力する
3. 検索結果の下に "Web を検索" または "App を検索" が出てくるのでそのいずれかをタップして Safari または App Store アプリを開く
4. Google 検索結果の `www.youtube.com` を開くか、App Store の検索結果から YouTube を開く

こうすると YouTube アプリを簡単に起動できてしまう。

これをなんとか無効化しようと思っていろいろ設定を見てみたのだが、やはりこれらを無効にすることは難しいようだ。

一応、"Web 検索" を無効化することはできる。スクリーンタイム内の機能制限を使って Safari の機能制限をオンにする（つまり Safari を使えないようにする）ことで、検索結果内の "Web 検索" をタップしても無反応にすることはできる。

しかし、App Store を無効化することはどうしてもできなかった。機能制限の項目の中に App Store はない（App のインストールや App 内課金の制限はできるが、App Store アプリ自体の制限は見当たらなかった）し、Siri の設定をすべてオフにしても "Web 検索" や "App 検索" の項目を非表示にすることはできなかった。

なのでこれに関してはもう自分の意志でどうにかするしかないようだ。検索した際に YouTube が直接ヒットしないようにできただけまだマシだろう。直接ヒットするとそのまま YouTube アプリを開けてしまうが、"Web 検索" や "App 検索" の場合は、一旦 Safari や App Store が開いて、そこから YouTube アプリを開くのでひと手間かかる。

スクリーンタイムの休止時間中は Safari や App Store の使用が制限されるので、抑制にはなるが、そもそも YouTube アプリ自体も休止時間中は制限がかかるのであまり意味がない。

まあ、今のところ YouTube は我慢できているのでこれでなんとかしよう。これでも YouTube を見すぎてしまう場合はもうアプリ消すとかしたほうが良いかな。そうすると寝るときのバイノーラル & ASMR が聞けなくなっちゃうけど。

あくまで、「見すぎないようにする」のが目的であって、全く見ないようにする必要はない。だから、YouTube アプリに制限がかかったらもうその日は見るのをやめよう、という意志がちゃんと働けば問題ないと思っている。その制限でも抑制が効かなくなった場合にアプリ削除など別の対策を改めて考えることにしよう。

ちなみに YouTube アプリの使用可能時間を 10 分に設定していたが、5 分にした。ちょっとこれでは厳しすぎると感じた場合は 10 分に戻す。ただあくまでこれはアプリを開いていられる時間であって、視聴時間ではないのでそこは注意したい。



# その他
- iOS 14 Public Beta 3 にアップグレードした
  - ちょうど設定アプリをいじろうと思ったときにアップデートの通知が来たので



# 開発日記
- [テンプレートとして追加されているテキストをそのまま投稿した場合には何も表示しないようにする機能を追加](https://github.com/noraworld/diary/commit/5551036bc340b5ad2a001ff90e4160bdb001f439)
- [メインの日記含め、すべてのテンプレートが空だった場合は弾くようになっているが、テンプレートとして追加されているテキストをそのまま投稿した場合にも同じものとみなすようにバリデーションを変更](https://github.com/noraworld/diary/commit/cef6d6c61d63b8f770d51cc5318606ee154460de)

テンプレートにテーブルなんかを入れておくと便利だけど、その日の日記では記録しなかった（する必要がなかった）場合に、中身が虫食いになっているテーブルだけが残っちゃって、そのまま表示させるのはなんか見た目が美しくないから表示しないようにした。

ただし、データとして空にしてしまうと、やっぱりあとから記入したくなった！ ってときにテンプレートが空になってしまっていてテンプレの意味がなくなってしまうので、データは残すようにしたかった。

そのために、`TemplatedArticle` に `template_body` というカラムを新たに追加して、更新されたテンプレート日記の本文 (`TemplatedArticle.body`) がテンプレートのテキスト (`TemplatedArticle.template_body`, `Template.body`) と一致しているかどうかをチェックしている。

 (this is a private diary) 
