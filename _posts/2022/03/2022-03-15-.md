---
layout: post
title: "2022-03-15"
# date: "2022-03-15 12:36:04 +0900"
---

# 全身筋肉痛
昨日のバーピーの負荷がかなり大きかったらしい。朝起きたら全身が筋肉痛になっていた。というか昨日の夜の時点でもうすでに筋肉痛の兆候はあった。

主に胸、お尻、太ももの筋肉痛がひどい。動くだけで痛い。上腕三頭筋や背中も若干痛いけど、これはバーピーじゃなくてリングフィットアドベンチャーだと思う。こちらは別に大したことはない。

久しぶりに動くのもつらいくらいの筋肉痛になった。




# GitHub Actions 上で Qiita API 叩けた！
数日前から GitHub Actions 上で Qiita API を叩くと 403 が返ってくるという問題に見舞われていた。

その件に関して Qiita にも問い合わせたりしたのだが、自己解決した。

403 が返ってくるときの該当記事ファイルを対象にローカルで実行したら同じように 403 が返ってきた。

つまりローカルで動くけど、GitHub Actions 上では動かない、というのは間違いで、正しくは本番用の記事ファイルに問題があった、ということだ。

いろいろ変えてみて原因を探ってみたら、タグにスペースが入っているとエラーになることがわかった。あと、同じタグが重複していたりしてもエラーになることがわかった。

それらを解消することで、無事、GitHub Actions 上でも動くようになった 🎉

最初は GitHub Actions 上だと IP アドレスで制限がかかっているのではないかと疑っていたが、全然そんなことはなかった。Qiita の人には追加のメールで「ゴッゴメン！」って送っておいた。

でも、これのエラーメッセージが Forbidden しか返ってこないのはさすがに不親切だとは思う。何が原因なのかまったくわからんから、Qiita API 側に問題があるのかと疑いたくなってしまうのも無理はないと思う。

なので、タグにスペースがあったり、重複していたりする場合も例外を上げるように追加実装した。

そして日本語の README も書いた。

これでようやく紹介記事が書けそう、、、と思ったけど、ファイル追加時に一度失敗してしまうと、次回以降は「編集」という扱いになるが、Qiita 上には該当記事がないのでエラーになってしまうという問題がある。

これは割と不便な仕様なので修正してからにしたい。

とはいえ、これはこれでマッピングファイルが完璧になっていないと、過去記事を編集したときに Qiita 上では新規投稿になってしまうという問題もあるので、オプションでどちらの仕様にするか選択できるように実装するのが良いかも。

# Zenn に投稿できなくなっている
Qiita の件は一段落したが、一難去ってまた一難。今度は Zenn 側でエラーが出て更新できなくなった。

使われていない Slug なのに、その Slug はすでに使われているというエラーが出る。

おそらくデフォルトブランチを `master` から `main` に変えたときに一度デプロイ失敗して、そのときに、記事は作成されていないけど Slug は予約されてしまった、的な感じになったのではないかと推測している。

ただ、明らかに Zenn のバグっぽい。手動デプロイとかリポジトリ再連携も試してみたが改善せず。

ということで今度は Zenn のほうに問い合わせを送った。

なかなか思うように技術記事の連携がいかない今日この頃なのである。




# うまい
セブンイレブンの「生ハム & ソフトサラミロール」がうまい。












