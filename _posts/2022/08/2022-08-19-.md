---
layout: post
title: "2022-08-19"
# date: "2022-08-19 22:10:30 +0900"
---

# 出来事・やったこと
* SSH 鍵周りのことをいろいろとやった
    * iOS Shortcuts で SSH が使えない問題を修正した
        * Ubuntu アップグレード後に iOS Shortcuts で SSH ができなくなったのは、RSA/SHA1 だからっぽい
        * SSH のアップデートで RSA/SHA1 はデフォルトでは使えなくなったようだ
        * 試しに SSH の設定で RSA/SHA1 を許可するようにしてみたら Shortcuts で今まで使っていた鍵が使えるようになった
        * でもデフォルトで使えなくなったのにはセキュリティ的な意味があるので、この解決方法は望ましくないと思った
        * そこでデフォルトで使える安全な鍵を使うことにした
        * iOS Shortcuts では RSA と ed25519 が選べるが、ed25519 に変えてみたところ、使えるようになった
        * ちなみにこの ed25519 は RSA よりも強固な暗号方式 (楕円曲線暗号の一種) らしいので、こっちを使うのが良さそう
    * ついでに Raspberry Pi への SSH ログインに使う鍵も ed25519 に変えてみた
        * さらに盤石にするために、初めて鍵にパスフレーズを設定してみることにした
        * パスフレーズを設定すると毎回聞かれてめんどくさいなと思っていたんだけど、SSH agent に登録したら省略できるようになった
        * ここらへんのことはリポジトリの README に書いておいた
    * SSH 周りの諸々の設定をアップデートした
        * やっぱり Raspberry Pi の設定も管理したほうが良いなと思ったので、Raspberry Pi の SSH 設定もリポジトリ管理にした
    * 記事を書いた & アップデート記事を更新した
        * [SSH で RSA/SHA1 が使えなくなったので対策する](https://zenn.dev/noraworld/articles/ssh-rsa-sha1-disabled)
        * [Ubuntu 22.04.1 LTS へのアップデートと注意点まとめ](https://zenn.dev/noraworld/articles/ubuntu-22-upgrade)
    * なんか江添さんに Ubuntu アップデートの記事を引用ツイートされて、めっちゃリツイートといいねされていた
        * https://twitter.com/i/web/status/1559959170019135489
        * 久しぶりにこんなにリツイート & いいねされた
        * というか Twitter アカウント新しくしてからはこんなにリツイート & いいねされるのはこれが初めてなんじゃないかな
        * やっぱり有名な人に引用されると注目を集めるんだな
        * そう考えると自分自身に発信力がないのがなんか虚しくなってくるな
* NordVPN を解約した
    * もともと Netflix の英語コンテンツを見るためだけど、日本からでも Bubble とかは英語で見られることがわかったので
    * ポケモン (英語) とかジブリ作品とかは VPN が必要だけど、今はこれらは見ていないので
    * まあまた使いたくなったら再契約すれば良いかなと思って
    * 2022/08/27 までは使えるっぽい
* そういえばなんでかわからないけど、Ubuntu をアップグレードしたら `bat` コマンドを終了したときにファイルの中身が画面上に残らなくなった
    * 今までは Raspberry Pi では残っていた
    * ~~でも macOS では残らなかった~~
        * と思っていたけど今試したら残っている
        * あれ、前はそうじゃなかった気がするんだけどなあ……
    * `bat` 自体にはそういうオプションは実装するつもりはないと前に言われたので諦めていたんだけど、なんか `bat` とは別の要因で画面上に残ったり残らなかったりするらしい
    * でもそれの要因はわからない
* 時刻がずれていないかどうか (システムクロックが NTP サーバと同期できているかどうか) をチェックするスクリプトを作って cron に組み込んだ
    * もちろんこれは数日前に発生した時刻ずれる問題の対策
    * 一応もう解決方法はわかって直ったとは思うけど、こんなことが次も起こったら困るので、盤石にするためにチェックすることにした
    * あれ、下手したら全然関係ない時間帯に出勤打刻とかしちゃっていてもおかしくなかったからね
    * あと単純に cron のネットワーク制御が全然違う時間帯でかかっちゃうから不便
    * `www.google.com` のレスポンスヘッダの時刻を見ているんだけど、たまに取得に失敗するときがあるから、取得できているかを判定して、取得できていなかったらリトライするみたいなことをしたほうが良さそうだな
    * まあそれはまた今度気が向いたらやろう



# 睡眠記録

| 項目 | 内容 |
| --- | :---: |
| 寝たの | 9 時前 |
| 起きたの | 16 時過ぎ |
| スコア | 54 |



# 夢日記
* なんかあったけど忘れた



# 瞑想記録

| 項目 | 内容 |
| --- | :---: |
| 時間 | 0 分 |
| 集中できたか | |
| その後のパフォーマンスは上がったか | |

## 感想
* 最近またやらなくなっちゃってるからやらんとな



# 運動記録
* 腕立て伏せ 20 回
* スクワット 15 回



# Atsueigo School
## 今日やったこと
* n/a

## 明日やること
* キク英文法
* リスニング

## 学習時間
* n/a

## 感想
* 今日は SSH とか時刻管理とかいろいろやりたかったのでおやすみ



# えらい！
* 直近でやる必要があったことである SSH や時刻管理などを終わらせることができた！



# 気分レベル (10 段階)
7



# 今日の気分はどうだったか
* 楽
    * やることはやったし、まあふつうって感じだったかな



# アンガーログ
* 特になし
